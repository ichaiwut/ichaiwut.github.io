<!DOCTYPE html>
 <!--
         _       __     __                             __                                      ___
| |     / /__  / /________  ____ ___  ___     / /_____     ____  ____ __________ _____/ (_)_______
| | /| / / _ \/ / ___/ __ \/ __ `__ \/ _ \   / __/ __ \   / __ \/ __ `/ ___/ __ `/ __  / / ___/ _ \
| |/ |/ /  __/ / /__/ /_/ / / / / / /  __/  / /_/ /_/ /  / /_/ / /_/ / /  / /_/ / /_/ / (__  )  __/
|__/|__/\___/_/\___/\____/_/ /_/ /_/\___/   \__/\____/  / .___/\__,_/_/   \__,_/\__,_/_/____/\___/
                                                       /_/
-->
<html>
     <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- Google Webmaster -->
    <meta name="google-site-verification" content="dv2lXBKU0GhZxMQ1e-jEC0HnM90xFlaklKpsoH-NX84" />
    <title>Ionic 2–3 Nav Guards</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
    <meta name="description" content="My name is Chaiwut. I am a web designer and front-end developer, as well as a web developer too. I love coding HTML, JavaScript, CSS and PHP of course. I was born and live in Chiang Mai" />

    <!-- open graph meta tags -->
  
    <meta property="og:title" content="Ionic 2–3 Nav Guards">
    <meta property="og:description" content="หากใครที่เขียน Angular 2 ~ 4 คงรู้จัก และคุ้นเคยกับ Routing Guards กันอยู่แล้ว พอหันกลับมาเขียน Ionic 2–3 กันบ้างซึ่งเราไม่ได้ใช้ Routes แต่เราใช้ NavController สำหรับการ Push หรือ Pop หน้าต่างๆ ภายใน Ioninc App ทาง Ionic 2–3 ก็มี Feature นี้ให้เหมือนกันนะครับ ชื่อว่า Nav Guards">
    <meta property="og:image" content="https://cdn-images-1.medium.com/max/800/1*d_w0M8RoJdXy4l84fsePhg.jpeg">
  
    <!-- open graph meta tags -->

    <meta property="og:url" content="http://localhost:4000/general/2017/06/16/Ionic-2-3-Nav-Guards/">
    <meta property="og:site_name" content="chaiwut.me">
    <meta property="fb:admins" content="100000586944809">
    <meta property="og:type" content="website">

    <!-- twitter card meta tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@bestrangers">
    <meta name="twitter:domain" content="//chaiwut.me">
    <meta name="twitter:creator" content="@bestrangers">
    <meta name="twitter:url" content="//chaiwut.me/index.html">
    <meta name="twitter:title" content="Home">
    <meta name="twitter:description" content="">


    <!-- Authorship Information for Google -->
    <link rel="author" href="https://plus.google.com/107399702829359268779">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-87576538-1', 'auto');
      ga('send', 'pageview');

    </script>
</head>
    <body>
        <div class="wrapper">
            <div class="row">
                <div class="small-12 columns hide-for-large">
                    <div class="wrapper__right-col-con text-center">
                        <a href="/index.html" title="iChaiwut">
                            <img src="/img/avatar-me.jpg" alt="Chaiwut.me" title="Chaiwut.me" class="user-avatar">
                        </a>
                        <p class="wrapper__work-label">
                            <strong>Frontend developer at</strong>
                            <a href="https://www.buzzwoo.de" title="BUZZWOO!">
                                <strong>BUZZWOO!</strong>
                            </a>
                        </p>
                        <p class="wrapper__detail">
                            My name is Chaiwut. I am a web designer and front-end developer, as well as a web developer too.
                            I love coding HTML, JavaScript, CSS and PHP of course. I was born and live in Chiang Mai
                        </p>
                        <div class="wrapper__blog-btn-con">
                            <a href="/about.html" class="btn btn-read-more wrapper__blog-btn wrapper__about-btn" title="About Chaiwut">
                                More about me
                            </a>
                        </div>
                    </div>
                </div>
                <div class="small-12 medium-12 large-8 columns">
                    <div class="wrapper__blog-list post-detail">
    <div class="row wrapper__blog-con ">
        <div class="small-12 columns">
            <a href="/index.html" title="Back" class="wrapper__back">&lsaquo; Go Back</a>
            <p class="wrapper__blog-date text-center">16 Jun 2017</p>
            <h2 class="wrapper__blog-title text-center detail-page">Ionic 2–3 Nav Guards</h2>
            <div class="wrapper__blog-description">
                    <p>หากใครที่เขียน Angular 2 ~ 4 คงรู้จัก และคุ้นเคยกับ <strong>Routing Guards</strong> กันอยู่แล้ว พอหันกลับมาเขียน Ionic 2–3 กันบ้างซึ่งเราไม่ได้ใช้ Routes แต่เราใช้ <strong>NavController</strong> สำหรับการ Push หรือ Pop หน้าต่างๆ ภายใน Ioninc App ทาง Ionic 2–3 ก็มี Feature นี้ให้เหมือนกันนะครับ ชื่อว่า Nav Guards</p>

<p>หลักการเดียวกันกับ Routing Guards ครับ Ionic 2–3 มีเมธอด <strong>ionViewCanEnter</strong> และ <strong>ionViewCanLeave</strong> เพื่อให้เราได้ควบการการเปลี่ยนหน้าต่างๆ ในแอพของเรา</p>

<blockquote>
  <p>**ionViewCanEnter: boolean/Promise<void>:** Runs before the view can enter. This can be used as a sort of “guard” in authenticated views where you need to check permissions before the view can enter</void></p>

  <p>**ionViewCanLeave: boolean/Promise<void>:** Runs before the view can leave. This can be used as a sort of “guard” in authenticated views where you need to check permissions before the view can leave</void></p>
</blockquote>

<p><strong>ionViewCanEnter</strong> จะถูกเรียกก่อน เพื่อให้เราได้กระทำการใดๆ ก่อนตัดสินใจว่าจะเข้าสู่เพจนี้หรือไม่
ionViewCanLeave จะถูกเรียกเมื่อจะออกจากเพจนั้นๆ ก่อนที่จะไปยังเพจอื่นๆ</p>

<script src="https://gist.github.com/ichaiwut/2bcf42996e0ba89bd3f482956a9869f1.js"></script>

<p>จากตัวอย่างข้างบนเราจะเห็นว่าก่อนที่เราจะ <em>push(DetailPage)</em> หรือออกจากเพจนี้ไป DetailPage, <strong>ionViewCanLeave()</strong> จะถูกเรียกใช้งาน isValid() เป็น condition ที่เราใช้ตรวจสอบก่อนตัดสินใจออกจากหน้านี้ หากค่าที่ได้ False, .catch() จะทำงาน
เช่นเดียวกับ <strong>ionViewCanEnter</strong> เพียงตรวจสอบว่าก่อนที่จะเข้าเพจนี้ จรงตาม condition ที่เราตั้งไว้หรือเปล่า</p>

<script src="https://gist.github.com/ichaiwut/3e83ba9ac92f50a0d3e0cfece7624b8e.js"></script>

<p>ทั้งหมดคือการทำงานของ Nav Guards โดยคร่าวๆ ครับลองเอาไปใช้กันดู หรือลองอ่านดูใน Doc ของ <a href="https://ionicframework.com/docs/api/navigation/NavController/#nav-guards">ionic 2–3</a> ก็ได้ครับ</p>

            </div>
            <!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style addthis_32x32_style">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50c7668e13209f98"></script>
<!-- AddThis Button END -->
            
                <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                        var disqus_shortname = 'ichaiwut'; // required: replace example with your forum shortname

                        /* * * DON'T EDIT BELOW THIS LINE * * */
                        (function() {
                            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                    <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            
        </div>
    </div>
</div>
                </div>
                <div class="small-12 medium-12 large-4 columns wrapper__right-col">
                    <div class="wrapper__right-col-con text-center show-for-large">
                        <a href="/index.html" title="iChaiwut">
                            <img src="/img/avatar-me.jpg" alt="Chaiwut.me" title="Chaiwut.me" class="user-avatar">
                        </a>
                        <p class="wrapper__work-label">
                            <strong>Frontend developer at</strong>
                            <a href="https://www.buzzwoo.de" title="BUZZWOO!">
                                <strong>BUZZWOO!</strong>
                            </a>
                        </p>
                        <p class="wrapper__detail">
                            My name is Chaiwut. I am a web designer and front-end developer, as well as a web developer too.
                            I love coding HTML, JavaScript, CSS and PHP of course. I was born and live in Chiang Mai
                        </p>
                        <div class="wrapper__blog-btn-con">
                            <a href="/about.html" class="btn btn-read-more wrapper__blog-btn wrapper__about-btn" title="About Chaiwut">
                                More about me
                            </a>
                        </div>
                    </div>

                    <div class="wrapper__right-col-con text-center">
                        <ul class="wrapper__social-list">
                            <li class="wrapper__social-items"><a href="https://facebook.com/ichaiwut"><img src="/img/facebook.png" alt="facebook/ichaiwut.s" title="facebook/ichaiwut.s"></a></li>
                            <li class="wrapper__social-items"><a href="https://twitter.com/BeStrangers"><img src="/img/twitter.png" alt="@Bestrangers" title="@Bestrangers"></a></li>
                            <li class="wrapper__social-items"><a href="https://chaiwut.tumblr.com"><img src="/img/tumblr.png" alt="chaiwut.tumblr.com" title="chaiwut.tumblr.com"></a></li>
                            <li class="wrapper__social-items"><a href="https://instagram.com/BeStrangers"><img src="/img/instagram.png" alt="@BeStrangers" title="@BeStrangers"></a></li>
                            <li class="wrapper__social-items"><a href="https://github.com/ichaiwut"><img src="/img/github.png" alt="@ichaiwut" title="@ichaiwut"></a></li>
                        </ul>
                    </div>

                    <iframe height='454' width='100%' frameborder='0' allowtransparency='true' scrolling='no' src='https://www.strava.com/athletes/11408799/latest-rides/c17631fbd03387815b332977681311b2a2287584'></iframe>
                     <div class="wrapper__right-col-con text-center twitter-frame">
                        <div class="wrapper__iframe-con">
                            <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/BeStrangers" data-widget-id="340062171423711233">Tweets by @BeStrangers</a>
                            <script>
                                !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
                            </script>
                        </div>
                    </div>


                    <div class="wrapper__right-col-con text-center copy-right-con">
                        <p class="wrapper__copy-right">
                            &copy;2017 chaiwut.me
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47772460-1', 'ichaiwut.me');
  ga('send', 'pageview');

  // just for fun
  if (window.console) {
    var welcomeText = ['Woo hoo',
    'Hello guys warm welcome.',
    'Try to find something?',
    'Go to https://github.com/ichaiwut/ichaiwut.github.io/issue'
    ];

    console.log(welcomeText.join('\n'));
  }
</script>

    </body>
</html>
